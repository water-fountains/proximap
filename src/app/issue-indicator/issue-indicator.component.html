<!--
* @license
* (c) Copyright 2019 | MY-D Foundation | Created by Matthew Moy de Vitry
* Use of this code is governed by the GNU Affero General Public License (https://www.gnu.org/licenses/agpl-3.0)
* and the profit contribution agreement available at https://www.my-d.org/ProfitContributionAgreement
-->

<ng-container *ngIf="appErrorsObservable | async; let appErrors">
  <button
    mat-button
    [color]="(dataIssues$ | async).length + appErrors.length > 0 ? 'warn' : 'basic'"
    [matTooltip]="
      'data processing issues: ' + (dataIssues$ | async).length + ', application issues: ' + appErrors.length
    "
    (click)="viewIssues()"
  >
    <mat-icon>error_outline</mat-icon>
    issues ({{ (dataIssues$ | async).length + appErrors.length }})
  </button>
</ng-container>
